!function(){var t=new RLDL.Api,e=new RLDL.Template,n=new RLDL.I18n,o=new RLDL.Route,i=function(){return this.counter=0,this.start=function(){0===this.counter&&$("body").addClass("loading"),this.counter++},this.end=function(t){this.counter--,(0===this.counter||t)&&(this.counter=0,$("body").removeClass("loading"))},this}();$(function(){i.start()}),$.when(t.get("auth/methods"),t.get("auth/user"),e.setTemplateFile("list","login/list")).done(function(t,s){$.each(t.data,function(t,e){var n=o.request("redirect","string");e.url+="?redirect="+encodeURI(null==n?"close":n)+"&publish="+publish_redirect}),s.hasOwnProperty("locale")&&RLDL._config.set({locale:s.locale}),n.load("login").done(function(){$(function(){$("title").html(n._("Log in")),$("#content").empty().append(e.render("list",{methods:t.data})),i.end()})})})}();